## 介绍

本部分详细介绍如何部署一个已经开发好的系统。面向使用系统的人员（无需关系开发细节）



### 1.安装依赖

#### （1）配置go环境

~~~shell
# 安装wget
yum install -y wget
# 在 ~ 下创建 go 文件夹，并进入 go 文件夹
mkdir ~/go && cd ~/go
# 下载的 go 压缩包
wget https://studygolang.com/dl/golang/go1.16.6.linux-amd64.tar.gz
~~~

#### （2） 配置 Go proxy环境

~~~shell
#阿里云Go Module代理仓库服务
go env -w GOPROXY=https://goproxy.cn,direct

echo "export GOPROXY=https://goproxy.cn" >> ~/.profile && source ~/.profile


#安装grpcui
go get github.com/fullstorydev/grpcui
go install github.com/fullstorydev/grpcui/cmd/grpcui@latest
~~~

#### （3）配置前端环境

下载node.js 及npm



### 2.项目运行配置

#### （1）代码介绍

| 服务                  | 类型        | 语言   | 备注                                       | repo                                         |
| --------------------- | ----------- | ------ | ------------------------------------------ | -------------------------------------------- |
| post_data_collect     | rpc         | go     | 揽件数据收集模块RPC                        | https://github.com/SpringTY/postrpc          |
| post_data_manage      | rpc         | go     | 揽件数据管理模块RPC                        |                                              |
| post_model_manage     | rpc         | go     | 揽件顺序预测模型管理模块                   |                                              |
| post_model_predict    | rpc         | go     | 揽件顺序预测模块                           |                                              |
| post_data_collect     | mq/consumer | python | 揽件数据收集模块mq消费端，用于收集数据     | https://github.com/SpringTY/post_mq_consumer |
| post_data_manage      | mq/consumer | python | 揽件数据管理模块mq消费端，用于预处理数据   |                                              |
| post_predict_consumer | mq/consumer | go     | 揽件预测模块mq消费端，用于处理异步预测任务 |                                              |
| post_api              | api(http)   | go     | 快递员揽件顺序预测系统api服务              | https://github.com/SpringTY/postapi          |
| post_web              | 前端        | js     | 快递员揽件顺序预测服务前端                 | https://github.com/SpringTY/postweb          |

#### （2）下载代码

从上述四个连接中下载代码至服务器



#### （3）运行rpc

~~~shell
#配置
cd post_model_manage
sh build.sh

#编译
# 方法一
./build_all.sh
# 方法二
bash build_all.sh
运行
# 方法一
./bootstrap.sh
# 方法二
bash bootstrap.sh
 
~~~

#### （3）运行api

进入postapi文件夹内

~~~shell
#编译
go run *.go
~~~

#### （4）运行前端

~~~ bash
# 安装项目依赖
npm i 
# 运行项目
npm run dev
~~~



### 3.在BloomRPC中测试

软件使用参考系统开发手册中1.2初步动手实践的Step 2

### 4. 运行前端页面

正常运行地址为本机地址加8080端口

localhost:8080